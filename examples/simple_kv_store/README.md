# Simple KV Store Example

This is a simple example demonstrating the use of the [irpc](https://github.com/marben/irpc) library to create RPC services for a basic key-value store.

## Overview

The example defines a `KVStore` interface with methods like `Put`, `Get`, `Delete`, and `ModifiedSince`. The irpc code generator automatically creates the RPC client and server implementations from this interface.

## Why net.Pipe?

Instead of using TCP connections, this example uses `net.Pipe()` to create a self-contained demonstration. This avoids the need for network ports, making it easy to run without any setup or concurrency concerns. In a real application, you would replace `net.Pipe()` with actual TCP or other transport mechanisms. All iRPC needs is an `io.ReadWriteCloser`.

## Running the Example

Run `go run .` in this directory.

The program will simulate a client-server interaction using the in-memory KV store, demonstrating RPC calls over the pipe connection.

## Code Generation

The RPC code in `kv_irpc.go` is generated by running `go generate` on `kv.go`. This creates the necessary serialization, client proxy, and server adapter code automatically.